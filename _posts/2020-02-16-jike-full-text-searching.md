---
layout: post
title: "极客时间《检索技术核心20讲》笔记"
categories: notes
---

# 检索技术核心20讲

## 线性结构检索：从数组和链表的原理初窥检索本质

### 数组和链表有哪些存储特点？

**数组**和**链表**分别代表了连续空间和不连续空间的最基础的存储方式，它们是**线性表（Linear List）**的典型代表。其他所有的数据结构，比如栈、队列、二叉树、B+ 树等，都不外乎是这两者的结合和变化。以栈为例，它本质就是一个限制了读写位置的数组，特点是只允许后进先出。



### 使用二分查找提升数组的检索效率

如果数据是无序存储的话，无论是数组还是链表，想要查找一个指定元素是否存在，在缺乏数据分布信息的情况下，只能从头到尾遍历一遍才能知道其是否存在。这样的检索效率就是 O(n)。

对于规模较大的数据集，往往是先将它通过排序算法转为有序的数据集，然后通过一些检索算法，比如二分查找算法来完成高效的检索。

**二分查找**也叫折半查找，它的思路很直观，就是**将有序数组二分为左右两个部分，通过只在半边进行查找来提升检索效率，重复这个过程，不停地“二分”下去**，每次的检索空间都能减少一半，整体的平均查询效率就是 O(log n)。



### 链表在检索和动态调整上的优缺点

链表并不具备“随机访问”的特点。当链表想要访问中间的元素时，我们必须从链表头开始，沿着链一步一步遍历过去，才能访问到期望的数值。如果要访问到中间的节点，我们就需要遍历一半的节点，时间代价已经是 O(n/2) 了

**链表的检索能力偏弱，作为弥补，它在动态调整上会更容易**。我们可以以 O(1) 的时间代价完成节点的插入和删除，这是“连续空间”的数组所难以做到的。



### 如何灵活改造链表提升检索效率？

**让链表每个节点不再只是存储一个元素，而是存储一个小的数组**。这样我们就能大幅减少节点的数量，从而减少依次遍历节点带来的“低寻址效率”。

比如说，我的链表就只有两个节点，每个节点都存储了一个小的有序数组。这样在检索的时候，我可以用二分查找的思想，先查询第一个节点存储的小数组的末尾元素，看看是否是我们要查询的数字。如果不是，我们要么在第一个节点存储的小数组里，继续二分查找；要么在第二个节点存储的小数组里，继续二分查找。这样的结构就能同时兼顾数组和链表的特点了，而且时间代价也是 O(log n)。



##　非线性结构检索：数据频繁变化的情况下，如何高效检索？

### 树结构是如何进行二分查找的？

能在链表中以 O(1) 的时间代价快速访问到中间节点，是不是就可以和有序数组一样使用二分查找了？

把链表的中间节点 M 拎出来单独记录，把左边的中间节点 L 和右边的中间节点 R，单独拎出来记录，让 M 带有两个指针一个左指针指向 L，一个右指针指向 R。对于其余的节点，我们也可以进行同样的处理。这就是我们常见的二叉树。